# Описание 
Данный программный макет предназначен для анализа сетевого трафика, выявления аномалий и их визуализации с использованием алгоритма K-Means. Программа поддерживает два режима:

1. Обучение: захват сетевого трафика (пакетов), его предварительная обработка, обучение модели K-Means и сохранение модели.

2. Детекция: загрузка ранее обученной модели, обработка новых данных и выявление аномалий с опциональной визуализацией.

Кластеризация K-Means - самый популярный алгоритм обучения без учителя. Он используется, когда у нас есть немаркированные данные (как в этом случае), то есть данные без определенных категорий или групп.

# Основные функции

• Захват сетевого трафика с помощью библиотеки Scapy.

• Предобработка данных: извлечение ключевых характеристик пакетов и сохранение в формате CSV.

• Обучение модели кластеризации (K-Means) для выявления аномалий. Выбор порога происходит автоматически; топ 5% ошибок считаются аномальными, и происходит расчет threshold.

• Детекция аномалий в новых данных с использованием порогового значения.

• Визуализация кластеров и аномалий.

# Инструкция по установке

## Требования

• Операционная система: Windows, Linux или macOS

• Python: версия 3.10+

Дополнительные библиотеки:

  • scapy

  • pandas

  • numpy

  • scikit-learn

  • matplotlib

  • joblib

## Шаги установки

1. Распакуйте test_infotek.zip.

2. Создайте виртуальное окружение. Введите одну из этих команд:

   
   ``` python -m venv myenv```,
   
  ``` source myenv/bin/activate  ``` Для Linux/Mac,
  
  ``` .myenvScriptsactivate  ``` Для Windows
   

4. Установите необходимые библиотеки с помощью следующей команды:
      ```pip install -r requirements.txt```
   

# Инструкция по использованию

## 1. Обучение модели

Запустите программу в режиме обучения:
```python main.py --mode train --duration 60```


• --mode: режим работы программы (train для обучения).

• --duration: время захвата сетевого трафика в секундах. По умолчанию стоит день.

После завершения захвата и обработки данных модель будет сохранена в папке models/.

## 2. Детекция аномалий

Запустите программу в режиме детекции:
```python main.py --mode detect --visualize```


• --mode: режим работы программы (detect для детекции).

• --visualize: флаг для визуализации обученной модели на тестовой выборке.

Результаты детекции будут сохранены в файле data/anomalies_detected.csv.
